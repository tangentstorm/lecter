{deck}
version:1
card:0
size:[512,342]
name:"The Game of Life"
author:"John Earnest"

{card:home}
image:"%%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LwAJBEgAAQEBAHEBAQC7BEYAAw0BAAYEMQAJBEYAAgEBAHEBAQC8BEQAAw0BAAYEMwAJBEQAAwEBAHEBAQC9BEIAAw0BAAYENQAJBEIAAw0BAQEAcQEBAL4EQAADDQEABgQ3AAkEQAADDQEAAQEBAHEBAQC/BD4AAw0BAAYEOQAJBD4AAw0BAAIBAQBxAQEAwAQ8AAMNAQAGBDsACQQ8AAMNAQADAQEAcQEBAMEEOgADDQEABgQ9AAkEOgADDQEABAEBAHEBAQDCBDgAAw0BAAYEPwAJBDgAAw0BAAUBAQBxAQEAwwQ2AAMNAQAGBEEACQQ2AAMNAQAGAQEAcQEBAMQENAADDQEABgRDAAkENAADDQEABwEBAHEBAQDFBDIAAw0BAAYERQAJBDIAAw0BAAgBAQBxAQEAxgQwAAMNAQAGBEcACQQwAAMNAQAJAQEAcQEBAMcELgADDQEABgRJAAkELgADDQEACgEBAHEBAQDIBCwAAw0BAAYESwAJBCwAAw0BAAsBAQBxAQEAyQQqAAMNAQAGBE0ACQQqAAMNAQAMAQEAcQEBAMoEKAADDQEABgRPAAkEKAADDQEADQEBAHEBAQDLBCYAAw0BAAYEUQAJBCYAAw0BAA4BAQBxAQEAzAQkAAMNAQAGBFMACQQkAAMNAQAPAQEAcQEBAM0EIgADDQEABgRVAAkEIgADDQEAEAEBAHEBAQDOBCAAAw0BAAYEVwAJBCAAAw0BABEBcwDPBB4AAw0BAAYEWQAJBB4AAw0BAP8AVgQcAAMNAQAGBFsACQQcAAMNAQD/AFgEGgADDQEABgRdAAkEGgADDQEA/wBaBBgAAw0BAAYEXwAJBBgAAw0BAP8AXAQWAAMNAQAGBGEACQQWAAMNAQD/AF4EFAADDQEABgRjAAkEFAADDQEA/wBgBBIAAw0BAAYEZQAJBBIAAw0BAP8AYgQQAAMNAQAGBGcACQQQAAMNAQD/AGQEDgADDQEABgRpAAkEDgADDQEA/wBmBAwAAw0BAAYEawAJBAwAAw0BAP8AaAQKAAMNAQAGBG0ACQQKAAMNAQD/AGoECAADDQEABgRvAAkECAADDQEA/wBsBAYAAw0BAAYEcQAJBAYAAw0BAP8AbgQEAAMNAQAGBHMACQQEAAMNAQD/AHAEAgADDQEABgR1AAkEAgADDQEA/wBxBAIAAg0BAAYEdwAIBAIAAg0BAP8AfAR5AP8AhwR7AAYNAQD/AH4EfQAEDQEA/wB+BH8AAg0BAP8AfgSCAP8AgASBAP8AgQR+AP8AhAR8AP8AhgR6AAMNAQD/AIQEeAADDQEA/wCGBHYAAw0BAP8AiAR0AAMNAQD/AIoEcgADDQEA/wCMBHAAAw0BAP8AjgRuAAMNAQD/AJAEbAADDQEA/wCSBGoAAw0BAP8AlARoAAMNAQD/AJYEZgADDQEA/wCYBGQAAw0BAP8AmgRiAAMNAQD/AJwEYAADDQEA/wCeBF4AAw0BAP8AoARcAAMNAQDH"
script:"home.0"
{widgets}
field1:{"type":"field","size":[164,20],"pos":[147,44],"locked":1,"font":"menu","show":"invert","border":0,"align":"center","value":"Conway's Game of Life"}
board:{"type":"canvas","size":[204,195],"pos":[126,106],"script":"home.1","show":"invert","image":"%%IMG0ABoAGWBSCAAATGDABgAFQIcAAAAYgAAAIjY4gIh/AADCfyeACD4wQCIcN0CiCChAEIEhAKyBCYCQYIGAMACcwKAAUIAsdYEATBQpgAoWLQCkQDAApQ+/AMEREYDgKBKAgIAbACZgAEA=","pattern":0,"scale":8}
button1:{"type":"button","size":[87,24],"pos":[381,119],"script":"home.2","text":"Clear"}
button2:{"type":"button","size":[87,24],"pos":[381,150],"script":"home.3","text":"Randomize"}
button3:{"type":"button","size":[87,24],"pos":[381,203],"script":"home.4","text":"1"}
field2:{"type":"field","size":[44,14],"pos":[401,184],"locked":1,"border":0,"align":"center","value":"step"}
button4:{"type":"button","size":[87,24],"pos":[381,235],"script":"home.4","text":"10"}
button5:{"type":"button","size":[87,24],"pos":[381,267],"script":"home.4","text":"100"}

{script:home.0}
on step do
 counts:image[board.size]
 each delta in (3 cross 3)-1
  counts.merge["+" board.copy[].translate[delta]]
 end
 stay:counts.copy[].map[((3,4) dict 1,1) 0].merge["&" board.copy[]]
 born:counts       .map[(3     dict 1  ) 0]
 board.paste[born.merge["|" stay]]
 sleep[5]
end

on steps x do
 step @ range floor x
end
{end}

{script:home.1}
on click pos do
 me.pattern:!me[pos] 
end

on release pos do
 drag[pos]
end
{end}

{script:home.2}
on click do
 board.clear[]
end
{end}

{script:home.3}
on click do
 b:image[board.lsize]
 b.pixels:random[(0,0,1) prod board.lsize]
 board.paste[b]
end
{end}

{script:home.4}
on click do
 steps[me.text]
end
{end}

